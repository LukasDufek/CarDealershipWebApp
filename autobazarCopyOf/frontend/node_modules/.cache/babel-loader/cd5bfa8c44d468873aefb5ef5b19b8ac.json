{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport axios from \"axios\";\nexport default {\n  name: 'carSelection',\n\n  /*\r\n  props:{\r\n    brand:{\r\n      type: String\r\n    }\r\n   }\r\n   */\n  data() {\n    return {\n      Cars: [],\n      //car: {},\n      vybranaAuta: [],\n      zvoleneAuto: {},\n      minCena: null,\n      maxCena: null,\n      znacky: [],\n      vybraneZnacky: [],\n      vsechnyZnacky: true,\n      karoserie: [],\n      vybraneKaroserie: [],\n      vsechnyKaroserie: true\n    };\n  },\n\n  mounted() {\n    axios.get('http://localhost:5000/api/posts/').then(response => {\n      //console.log(response.data);\n      this.Cars = response.data;\n      this.getZnacky();\n      this.getCaroseries();\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n\n  methods: {\n    omezeni() {\n      return this.minCena !== null && this.maxCena !== null && this.vsechnyZnacky && this.vsechnyKaroserie;\n    },\n\n    //is selected car allready in array of vybranaAuta\n    isInArray(id) {\n      let bool = false;\n\n      for (let i = 0; i < this.vybranaAuta.length; i++) {\n        if (this.vybranaAuta[i]._id === id) {\n          bool = true;\n        }\n      }\n\n      return bool;\n    },\n\n    vypisMinCenu(cena) {\n      this.minCena = cena;\n      console.log('Min cena je ', this.minCena);\n\n      if (this.minCena !== null) {\n        if (this.vybranaAuta.length === 0) {\n          this.vybranaAuta = this.Cars.filter(function (data) {\n            return data.cena >= cena;\n          });\n        } else {\n          this.filtruj();\n        }\n      }\n    },\n\n    vypisMaxCenu(cena) {\n      this.minCena = cena;\n      console.log('Max cena je ', this.maxCena);\n\n      if (this.maxCena !== null) {\n        if (this.vybranaAuta.length === 0) {\n          this.vybranaAuta = this.Cars.filter(function (data) {\n            return data.cena <= cena;\n          });\n        } else {\n          this.filtruj();\n        }\n      }\n    },\n\n    getZnacky() {\n      this.vybraneZnacky = [];\n\n      for (let i = 0; i < this.Cars.length; i++) {\n        if (!this.znacky.includes(this.Cars[i].znacka)) this.znacky.push(this.Cars[i].znacka);\n      }\n    },\n\n    getCaroseries() {\n      this.vybraneKaroserie = [];\n\n      for (let i = 0; i < this.Cars.length; i++) {\n        if (!this.karoserie.includes(this.Cars[i].karoserie)) this.karoserie.push(this.Cars[i].karoserie);\n      }\n    },\n\n    pridatZnacku(zn) {\n      if (!this.vybraneZnacky.includes(zn) || this.vybraneZnacky.length === 0) {\n        this.vybraneZnacky.push(zn);\n        this.vsechnyZnacky = false;\n      } else {\n        //remove from vybranaKategorie\n        this.vybraneZnacky.splice(this.vybraneZnacky.indexOf(zn), 1);\n\n        if (this.vybraneZnacky.length === 0) {\n          this.vsechnyZnacky = true;\n        }\n      }\n\n      if (this.vybranaAuta.length === 0) {\n        let znackyFiltru = this.vybraneZnacky;\n        this.vybranaAuta = this.Cars.filter(function (data) {\n          let bool = false;\n\n          for (let i = 0; i < znackyFiltru.length; i++) {\n            if (data.znacka === znackyFiltru[i]) {\n              bool = true;\n            }\n          }\n\n          return bool;\n        });\n      } else {\n        for (let i = 0; i < this.Cars.length; i++) {\n          if (this.vybraneZnacky.includes(this.Cars[i].znacka) && !this.isInArray(this.Cars[i]._id)) {\n            this.vybranaAuta.push(this.Cars[i]);\n          }\n        }\n\n        this.filtruj();\n      }\n\n      console.log('vybrane znacky', this.vybraneZnacky);\n    },\n\n    pridatKaroserii(karo) {\n      if (!this.vybraneKaroserie.includes(karo) || this.vybraneKaroserie.length === 0) {\n        this.vybraneKaroserie.push(karo);\n        this.vsechnyKaroserie = false;\n      } else {\n        //remove from vybranaKategorie\n        this.vybraneKaroserie.splice(this.vybraneKaroserie.indexOf(karo), 1);\n\n        if (this.vybraneKaroserie.length === 0) {\n          this.vsechnyKaroserie = true;\n        }\n      }\n\n      if (this.vybranaAuta.length === 0) {\n        let karoserieFiltru = this.vybraneKaroserie;\n        this.vybranaAuta = this.Cars.filter(function (data) {\n          let bool = false;\n\n          for (let i = 0; i < karoserieFiltru.length; i++) {\n            if (data.karoserie === karoserieFiltru[i]) {\n              bool = true;\n            }\n          }\n\n          return bool;\n        });\n      } else {\n        for (let i = 0; i < this.Cars.length; i++) {\n          if (this.vybraneKaroserie.includes(this.Cars[i].karoserie) && !this.isInArray(this.Cars[i]._id)) {\n            this.vybranaAuta.push(this.Cars[i]);\n          }\n        }\n\n        this.filtruj();\n      }\n\n      console.log('vybrane karoserie', this.vybraneKaroserie);\n    },\n\n    filtruj() {\n      //this.vybranaAuta = this.Cars.filter(data => data.znacka === zn);\n      let znackyF = this.vybraneZnacky;\n      let karoserieF = this.vybraneKaroserie;\n\n      if (this.vybraneZnacky.length !== 0) {\n        this.vybranaAuta = this.vybranaAuta.filter(function (data) {\n          let bool = false;\n\n          for (let i = 0; i < znackyF.length; i++) {\n            if (data.znacka === znackyF[i]) {\n              bool = true;\n            }\n          }\n\n          return bool;\n        });\n      } //2.filtr\n\n\n      if (this.vybraneKaroserie.length !== 0) {\n        this.vybranaAuta = this.vybranaAuta.filter(function (data) {\n          let bool = false;\n\n          for (let i = 0; i < karoserieF.length; i++) {\n            if (data.karoserie === karoserieF[i]) {\n              bool = true;\n            }\n          }\n\n          return bool;\n        });\n      } //3.filtr\n\n\n      if (this.minCena !== null) {\n        let cena = this.minCena;\n        this.vybranaAuta = this.Cars.filter(function (data) {\n          return data.cena >= cena;\n        });\n      } //4.filtr\n\n\n      if (this.maxCena !== null) {\n        let cena = this.maxCena;\n        this.vybranaAuta = this.Cars.filter(function (data) {\n          return data.cena <= cena;\n        });\n      }\n    },\n\n    toCarDetail(car) {\n      this.zvoleneAuto = car;\n      this.$router.push('./carDetail');\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA4FA;AAEA;EACAA,oBADA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;EAEAC;IACA;MACAC,QADA;MAEA;MACAC,eAHA;MAIAC,eAJA;MAKAC,aALA;MAMAC,aANA;MAQAC,UARA;MASAC,iBATA;MAUAC,mBAVA;MAYAC,aAZA;MAaAC,oBAbA;MAcAC;IAdA;EAiBA,CA5BA;;EA8BAC;IACAC,8CACAC,IADA,CACAC;MACA;MACA;MACA;MACA;IAEA,CAPA,EAQAC,KARA,CAQAC;MACAC;IACA,CAVA;EAWA,CA1CA;;EA4CAC;IAEAC;MACA;IAEA,CALA;;IAOA;IACAC;MACA;;MACA;QACA;UACAC;QACA;MACA;;MACA;IACA,CAhBA;;IAkBAC;MACA;MACAL;;MACA;QACA;UACA;YACA;UACA,CAFA;QAGA,CAJA,MAIA;UACA;QACA;MACA;IAGA,CAhCA;;IAiCAM;MACA;MACAN;;MAEA;QACA;UACA;YACA;UACA,CAFA;QAGA,CAJA,MAIA;UACA;QACA;MACA;IACA,CA9CA;;IAgDAO;MACA;;MACA;QACA,gDACA;MACA;IACA,CAtDA;;IAuDAC;MACA;;MACA;QACA,sDACA;MACA;IACA,CA7DA;;IA+DAC;MAEA;QACA;QACA;MAEA,CAJA,MAIA;QACA;QACA;;QACA;UACA;QACA;MACA;;MAIA;QACA;QACA;UACA;;UACA;YACA;cACAL;YACA;UACA;;UACA;QACA,CARA;MASA,CAXA,MAWA;QACA;UACA;YACA;UACA;QACA;;QACA;MACA;;MACAJ;IAEA,CApGA;;IAsGAU;MAEA;QACA;QACA;MAEA,CAJA,MAIA;QACA;QACA;;QACA;UACA;QACA;MACA;;MAGA;QACA;QACA;UACA;;UACA;YACA;cACAN;YACA;UACA;;UACA;QACA,CARA;MASA,CAXA,MAWA;QACA;UACA;YACA;UACA;QACA;;QACA;MACA;;MAEAJ;IAGA,CA5IA;;IA8IAW;MACA;MACA;MACA;;MAEA;QACA;UACA;;UACA;YACA;cACAP;YACA;UACA;;UACA;QACA,CARA;MAUA,CAhBA,CAkBA;;;MACA;QACA;UACA;;UACA;YACA;cACAA;YACA;UACA;;UACA;QACA,CARA;MAUA,CA9BA,CA+BA;;;MACA;QACA;QACA;UACA;QACA,CAFA;MAGA,CArCA,CAuCA;;;MACA;QACA;QACA;UACA;QACA,CAFA;MAGA;IAEA,CA7LA;;IAiMAQ;MACA;MACA;IAEA;;EArMA;AA5CA","names":["name","data","Cars","vybranaAuta","zvoleneAuto","minCena","maxCena","znacky","vybraneZnacky","vsechnyZnacky","karoserie","vybraneKaroserie","vsechnyKaroserie","mounted","axios","then","response","catch","error","console","methods","omezeni","isInArray","bool","vypisMinCenu","vypisMaxCenu","getZnacky","getCaroseries","pridatZnacku","pridatKaroserii","filtruj","toCarDetail"],"sourceRoot":"src/views","sources":["carsSelection.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <header-page/>\r\n    <section class=\"filtering-tag\">\r\n\r\n\r\n      <div  class=\"filter-znacky\" v-for=\"zn in znacky\" :key=\"zn._id\">\r\n        <input name=\"active\" type=\"checkbox\" :id=\"zn\" @change=\"pridatZnacku(zn)\">\r\n        <h3>{{ zn }}</h3>\r\n      </div>\r\n      <p>vybrane znacky: {{vybraneZnacky}}</p>\r\n\r\n\r\n      <div  class=\"filter-znacky\" v-for=\"karo in karoserie\" :key=\"karo._id\">\r\n        <input name=\"active\" type=\"checkbox\" :id=\"karo\" @change=\"pridatKaroserii(karo)\">\r\n        <h3>{{ karo }}</h3>\r\n      </div>\r\n      <p>vybrane karoserie: {{vybraneKaroserie}}</p>\r\n\r\n      <div  class=\"filter-znacky\">\r\n        <input v-model.number=\"minimalniCena\" @change=\"vypisMinCenu(minimalniCena)\" placeholder=\"Zadej minimální cenu\" />\r\n      </div>\r\n\r\n      <div  class=\"filter-znacky\">\r\n        <input v-model.number=\"maximalniCena\" @change=\"vypisMaxCenu(maximalniCena)\" placeholder=\"Zadej maximalni cenu\" />\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n    </section>\r\n\r\n    <section class=\"border-text\">\r\n      <form action=\"\">\r\n        <label>Seřadit:</label>\r\n        <select id=\"sorted\" name=\"sorted\">\r\n          <option value=\"nejlevnejsi\">Nejlevnější</option>\r\n          <option value=\"nejdrazsi\">Nejdražší</option>\r\n          <option value=\"nenovejsi\">Nejnovější</option>\r\n          <option value=\"tachometr\">Stav tachometru</option>\r\n        </select>\r\n        <input type=\"submit\">\r\n      </form>\r\n    </section>\r\n\r\n\r\n    <section class=\"optionalCar\" v-if=\"this.omezeni()\">\r\n      <section class=\"border-text-choose-car\" v-for=\"car of Cars\"\r\n           :key=\"car._id\"\r\n      >\r\n        <div class=\"carDescription\">\r\n        <h1 class=\"subtitle-car-browsing\">{{car.znacka}} {{car.model}}</h1>\r\n        <img src=\"https://s4.gifyu.com/images/testImg.md.jpg\" class=\"imgCar\" alt=\"testImg.jpg\" border=\"0\" />\r\n        <h3 class=\"subtitle-car-browsing\">{{car.karoserie}}</h3>\r\n        <h3 class=\"subtitle-car-browsing\">{{car.motor}} {{car.vykon}} kW</h3>\r\n        <p>{{car.rok}}</p>\r\n        <br>\r\n          <button class=\"showCar\" @click=\"toCarDetail(car)\">Detail auta</button>\r\n        <br>\r\n        <h2 class =\"price-car-browsing\">{{car.cena}} Kč</h2>\r\n        </div>\r\n\r\n      </section>\r\n    </section>\r\n\r\n    <section class=\"optionalCar\" v-else>\r\n      <section class=\"border-text-choose-car\" v-for=\"car of vybranaAuta\"\r\n               :key=\"car._id\"\r\n      >\r\n        <img class=\"carImage\"/>\r\n        <h1 class=\"subtitle-car-browsing\">{{car.znacka}} {{car.model}}</h1>\r\n        <img src=\"https://s4.gifyu.com/images/testImg.md.jpg\" class=\"imgCar\" alt=\"testImg.jpg\" border=\"0\" />\r\n        <h3 class=\"subtitle-car-browsing\">{{car.karoserie}}</h3>\r\n        <h3 class=\"subtitle-car-browsing\">{{car.motor}} {{car.vykon}} kW</h3>\r\n        <p>{{car.rok}}</p>\r\n        <br>\r\n        <button class=\"showCar\" @click=\"toCarDetail(car)\">Detail auta</button>\r\n        <br>\r\n        <h2 class =\"price-car-browsing\">{{car.cena}} Kč</h2>\r\n\r\n      </section>\r\n    </section>\r\n\r\n  <footer-page/>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: 'carSelection',\r\n  /*\r\n  props:{\r\n    brand:{\r\n      type: String\r\n    }\r\n   }\r\n   */\r\n\r\n  data(){\r\n    return {\r\n      Cars: [],\r\n      //car: {},\r\n      vybranaAuta: [],\r\n      zvoleneAuto:{},\r\n      minCena: null,\r\n      maxCena: null,\r\n\r\n      znacky: [],\r\n      vybraneZnacky:[],\r\n      vsechnyZnacky: true,\r\n\r\n      karoserie:[],\r\n      vybraneKaroserie:[],\r\n      vsechnyKaroserie: true,\r\n\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    axios.get('http://localhost:5000/api/posts/')\r\n        .then((response) =>{\r\n          //console.log(response.data);\r\n          this.Cars = response.data\r\n          this.getZnacky();\r\n          this.getCaroseries();\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n  },\r\n\r\n  methods: {\r\n\r\n    omezeni(){\r\n      return (this.minCena !== null && this.maxCena !== null && this.vsechnyZnacky && this.vsechnyKaroserie)\r\n\r\n    },\r\n\r\n    //is selected car allready in array of vybranaAuta\r\n    isInArray(id){\r\n      let bool = false;\r\n      for(let i=0; i< this.vybranaAuta.length; i++){\r\n        if(this.vybranaAuta[i]._id === id){\r\n          bool = true;\r\n        }\r\n      }\r\n      return bool;\r\n    },\r\n\r\n    vypisMinCenu(cena){\r\n      this.minCena =cena;\r\n      console.log('Min cena je ',this.minCena);\r\n      if(this.minCena !== null){\r\n          if(this.vybranaAuta.length === 0){\r\n            this.vybranaAuta = this.Cars.filter(function (data) {\r\n              return data.cena >= cena;\r\n            });\r\n          }else{\r\n            this.filtruj();\r\n          }\r\n      }\r\n\r\n\r\n    },\r\n    vypisMaxCenu(cena){\r\n      this.minCena =cena;\r\n      console.log('Max cena je ',this.maxCena);\r\n\r\n      if(this.maxCena !== null){\r\n        if(this.vybranaAuta.length === 0){\r\n          this.vybranaAuta = this.Cars.filter(function (data) {\r\n            return data.cena <= cena;\r\n          });\r\n        }else{\r\n          this.filtruj();\r\n        }\r\n      }\r\n    },\r\n\r\n      getZnacky(){\r\n        this.vybraneZnacky =[];\r\n        for(let i =0; i<this.Cars.length; i++){\r\n          if( !(this.znacky.includes(this.Cars[i].znacka)))\r\n              this.znacky.push(this.Cars[i].znacka);\r\n        }\r\n      },\r\n    getCaroseries(){\r\n      this.vybraneKaroserie =[];\r\n      for(let i =0; i<this.Cars.length; i++){\r\n        if( !(this.karoserie.includes(this.Cars[i].karoserie)))\r\n          this.karoserie.push(this.Cars[i].karoserie);\r\n      }\r\n    },\r\n\r\n    pridatZnacku(zn){\r\n\r\n      if( (!this.vybraneZnacky.includes(zn)) || this.vybraneZnacky.length === 0) {\r\n        this.vybraneZnacky.push(zn);\r\n        this.vsechnyZnacky = false;\r\n\r\n      }else{\r\n        //remove from vybranaKategorie\r\n        this.vybraneZnacky.splice(this.vybraneZnacky.indexOf(zn), 1);\r\n        if(this.vybraneZnacky.length ===0){\r\n          this.vsechnyZnacky = true;\r\n        }\r\n      }\r\n\r\n\r\n\r\n      if(this.vybranaAuta.length === 0){\r\n        let znackyFiltru = this.vybraneZnacky;\r\n        this.vybranaAuta = this.Cars.filter(function (data){\r\n          let bool = false;\r\n          for(let i=0; i<znackyFiltru.length; i++){\r\n            if (data.znacka === znackyFiltru[i]){\r\n              bool = true;\r\n            }\r\n          }\r\n          return bool;\r\n        });\r\n      }else {\r\n        for(let i=0; i<this.Cars.length; i++){\r\n          if( (this.vybraneZnacky.includes(this.Cars[i].znacka)) &&  !this.isInArray(this.Cars[i]._id)){\r\n            this.vybranaAuta.push(this.Cars[i]);\r\n          }\r\n        }\r\n        this.filtruj();\r\n      }\r\n      console.log('vybrane znacky',this.vybraneZnacky);\r\n\r\n    },\r\n\r\n    pridatKaroserii(karo){\r\n\r\n      if( (!this.vybraneKaroserie.includes(karo)) || this.vybraneKaroserie.length === 0) {\r\n        this.vybraneKaroserie.push(karo);\r\n        this.vsechnyKaroserie = false;\r\n\r\n      }else{\r\n        //remove from vybranaKategorie\r\n        this.vybraneKaroserie.splice(this.vybraneKaroserie.indexOf(karo), 1);\r\n        if(this.vybraneKaroserie.length === 0){\r\n          this.vsechnyKaroserie = true;\r\n        }\r\n      }\r\n\r\n\r\n      if(this.vybranaAuta.length === 0){\r\n        let karoserieFiltru = this.vybraneKaroserie;\r\n        this.vybranaAuta = this.Cars.filter(function (data){\r\n          let bool = false;\r\n          for(let i=0; i<karoserieFiltru.length; i++){\r\n            if (data.karoserie === karoserieFiltru[i]){\r\n              bool = true;\r\n            }\r\n          }\r\n          return bool;\r\n        });\r\n      }else {\r\n        for(let i=0; i<this.Cars.length; i++){\r\n          if( (this.vybraneKaroserie.includes(this.Cars[i].karoserie)) &&  !this.isInArray(this.Cars[i]._id)){\r\n            this.vybranaAuta.push(this.Cars[i]);\r\n          }\r\n        }\r\n        this.filtruj();\r\n      }\r\n\r\n      console.log('vybrane karoserie',this.vybraneKaroserie);\r\n\r\n\r\n    },\r\n\r\n    filtruj(){\r\n      //this.vybranaAuta = this.Cars.filter(data => data.znacka === zn);\r\n      let znackyF = this.vybraneZnacky;\r\n      let karoserieF = this.vybraneKaroserie;\r\n\r\n      if(this.vybraneZnacky.length !== 0) {\r\n        this.vybranaAuta = this.vybranaAuta.filter(function (data) {\r\n          let bool = false;\r\n          for (let i = 0; i < znackyF.length; i++) {\r\n            if (data.znacka === znackyF[i]) {\r\n              bool = true;\r\n            }\r\n          }\r\n          return bool;\r\n        });\r\n\r\n      }\r\n\r\n      //2.filtr\r\n      if(this.vybraneKaroserie.length !==0) {\r\n        this.vybranaAuta = this.vybranaAuta.filter(function (data) {\r\n          let bool = false;\r\n          for (let i = 0; i < karoserieF.length; i++) {\r\n            if (data.karoserie === karoserieF[i]) {\r\n              bool = true;\r\n            }\r\n          }\r\n          return bool;\r\n        });\r\n\r\n      }\r\n      //3.filtr\r\n      if(this.minCena !== null) {\r\n        let cena = this.minCena;\r\n        this.vybranaAuta = this.Cars.filter(function (data) {\r\n          return data.cena >= cena;\r\n        });\r\n      }\r\n\r\n      //4.filtr\r\n      if(this.maxCena !== null) {\r\n        let cena = this.maxCena;\r\n        this.vybranaAuta = this.Cars.filter(function (data) {\r\n          return data.cena <= cena;\r\n        });\r\n      }\r\n\r\n    },\r\n\r\n\r\n\r\n    toCarDetail(car){\r\n      this.zvoleneAuto = car;\r\n      this.$router.push('./carDetail');\r\n\r\n    }\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.border-text-choose-car{\r\n  text-align: center;\r\n  width: 75%;\r\n\r\n  background: #ffee80;\r\n  font-size: 20px;\r\n  border-radius: 1em;\r\n\r\n\r\n  margin-bottom: 5rem;\r\n}\r\n.carDescription{\r\n  position: relative;\r\n  right: -20rem;\r\n}\r\n\r\n\r\n\r\n.border-title-choose-car{\r\n  font-size: 25px;\r\n  color: black;\r\n  font-weight: revert;\r\n  margin-right: 50em;\r\n\r\n}\r\n\r\n.filtering-tag {\r\n  align-items: center;\r\n  width: 100%;\r\n\r\n\r\n  margin-bottom: 6em;\r\n  margin-top: 12em;\r\n  z-index: 1000;\r\n  background: floralwhite;\r\n  border-bottom: inset #130f40;\r\n\r\n}\r\n\r\n\r\n.filter-znacky{\r\n  column-count: 2;\r\n  padding-right: -15rem;\r\n}\r\n\r\n.imgCar{\r\n  padding-right: 1em;\r\n}\r\n.showCar{\r\n  background-color: #008CBA;\r\n  border: none;\r\n  color: white;\r\n  padding: 15px 32px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}