{"ast":null,"code":"export default {\n  data: function () {\n    return {\n      prices: [],\n      categories: [],\n      manufacturers: [],\n      products: [],\n      loading: true,\n      selected: {\n        prices: [],\n        categories: [],\n        manufacturers: []\n      }\n    };\n  },\n\n  mounted() {\n    this.loadCategories();\n    this.loadManufacturers();\n    this.loadPrices();\n    this.loadProducts();\n  },\n\n  watch: {\n    selected: {\n      handler: function () {\n        this.loadCategories();\n        this.loadManufacturers();\n        this.loadPrices();\n        this.loadProducts();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    loadCategories: function () {\n      axios.get('/api/categories', {\n        params: _.omit(this.selected, 'categories')\n      }).then(response => {\n        this.categories = response.data.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    loadProducts: function () {\n      axios.get('/api/products', {\n        params: this.selected\n      }).then(response => {\n        this.products = response.data.data;\n        this.loading = false;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    loadManufacturers: function () {\n      axios.get('/api/manufacturers', {\n        params: _.omit(this.selected, 'manufacturers')\n      }).then(response => {\n        this.manufacturers = response.data.data;\n        this.loading = false;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    loadPrices: function () {\n      axios.get('/api/prices', {\n        params: _.omit(this.selected, 'prices')\n      }).then(response => {\n        this.prices = response.data;\n        this.loading = false;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAqDA;EACAA;IACA;MACAC,UADA;MAEAC,cAFA;MAGAC,iBAHA;MAIAC,YAJA;MAKAC,aALA;MAMAC;QACAL,UADA;QAEAC,cAFA;QAGAC;MAHA;IANA;EAYA,CAdA;;EAgBAI;IACA;IACA;IACA;IACA;EACA,CArBA;;EAuBAC;IACAF;MACAG;QACA;QACA;QACA;QACA;MACA,CANA;MAOAC;IAPA;EADA,CAvBA;EAmCAC;IACAC;MACAC;QACAC;MADA,GAGAC,IAHA,CAGAC;QACA;MACA,CALA,EAMAC,KANA,CAMA;QACAC;MACA,CARA;IASA,CAXA;IAaAC;MACAN;QACAC;MADA,GAGAC,IAHA,CAGAC;QACA;QACA;MACA,CANA,EAOAC,KAPA,CAOA;QACAC;MACA,CATA;IAUA,CAxBA;IA0BAE;MACAP;QACAC;MADA,GAGAC,IAHA,CAGAC;QACA;QACA;MACA,CANA,EAOAC,KAPA,CAOA;QACAC;MACA,CATA;IAUA,CArCA;IAuCAG;MACAR;QACAC;MADA,GAGAC,IAHA,CAGAC;QACA;QACA;MACA,CANA,EAOAC,KAPA,CAOA;QACAC;MACA,CATA;IAUA;EAlDA;AAnCA","names":["data","prices","categories","manufacturers","products","loading","selected","mounted","watch","handler","deep","methods","loadCategories","axios","params","then","response","catch","console","loadProducts","loadManufacturers","loadPrices"],"sourceRoot":"src/views","sources":["carsSelection.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\" :class=\"{'loading': loading}\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-3 mb-4\">\r\n        <h1 class=\"mt-4\">Filters</h1>\r\n\r\n        <h3 class=\"mt-2\">Price</h3>\r\n        <div class=\"form-check\" v-for=\"(price, index) in prices\">\r\n          <input class=\"form-check-input\" type=\"checkbox\" :value=\"index\" :id=\"'price'+index\" v-model=\"selected.prices\">\r\n          <label class=\"form-check-label\" :for=\"'price' + index\">\r\n            {{ price.name }} ({{ price.products_count }})\r\n          </label>\r\n        </div>\r\n\r\n        <h3 class=\"mt-2\">Categories</h3>\r\n        <div class=\"form-check\" v-for=\"(category, index) in categories\">\r\n          <input class=\"form-check-input\" type=\"checkbox\" :value=\"category.id\" :id=\"'category'+index\" v-model=\"selected.categories\">\r\n          <label class=\"form-check-label\" :for=\"'category' + index\">\r\n            {{ category.name }} ({{ category.products_count }})\r\n          </label>\r\n        </div>\r\n\r\n        <h3 class=\"mt-2\">Manufacturers</h3>\r\n        <div class=\"form-check\" v-for=\"(manufacturer, index) in manufacturers\">\r\n          <input class=\"form-check-input\" type=\"checkbox\" :value=\"manufacturer.id\" :id=\"'manufacturer'+index\" v-model=\"selected.manufacturers\">\r\n          <label class=\"form-check-label\" :for=\"'manufacturer' + index\">\r\n            {{ manufacturer.name }} ({{ manufacturer.products_count }})\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-9\">\r\n        <div class=\"row mt-4\">\r\n          <div class=\"col-lg-4 col-md-6 mb-4\" v-for=\"product in products\">\r\n            <div class=\"card h-100\">\r\n              <a href=\"#\">\r\n                <img class=\"card-img-top\" src=\"http://placehold.it/700x400\" alt=\"\">\r\n              </a>\r\n              <div class=\"card-body\">\r\n                <h4 class=\"card-title\">\r\n                  <a href=\"#\">{{ product.name }}</a>\r\n                </h4>\r\n                <h5>$ {{ product.price }}</h5>\r\n                <p class=\"card-text\">{{ product.description }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      prices: [],\r\n      categories: [],\r\n      manufacturers: [],\r\n      products: [],\r\n      loading: true,\r\n      selected: {\r\n        prices: [],\r\n        categories: [],\r\n        manufacturers: []\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.loadCategories();\r\n    this.loadManufacturers();\r\n    this.loadPrices();\r\n    this.loadProducts();\r\n  },\r\n\r\n  watch: {\r\n    selected: {\r\n      handler: function () {\r\n        this.loadCategories();\r\n        this.loadManufacturers();\r\n        this.loadPrices();\r\n        this.loadProducts();\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    loadCategories: function () {\r\n      axios.get('/api/categories', {\r\n        params: _.omit(this.selected, 'categories')\r\n      })\r\n          .then((response) => {\r\n            this.categories = response.data.data;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    },\r\n\r\n    loadProducts: function () {\r\n      axios.get('/api/products', {\r\n        params: this.selected\r\n      })\r\n          .then((response) => {\r\n            this.products = response.data.data;\r\n            this.loading = false;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    },\r\n\r\n    loadManufacturers: function () {\r\n      axios.get('/api/manufacturers', {\r\n        params: _.omit(this.selected, 'manufacturers')\r\n      })\r\n          .then((response) => {\r\n            this.manufacturers = response.data.data;\r\n            this.loading = false;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    },\r\n\r\n    loadPrices: function () {\r\n      axios.get('/api/prices', {\r\n        params: _.omit(this.selected, 'prices')\r\n      })\r\n          .then((response) => {\r\n            this.prices = response.data;\r\n            this.loading = false;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}