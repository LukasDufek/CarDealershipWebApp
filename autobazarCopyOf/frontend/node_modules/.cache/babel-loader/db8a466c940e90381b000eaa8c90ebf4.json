{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport axios from \"axios\";\nexport default {\n  name: 'carSelection',\n\n  /*\r\n  props:{\r\n    brand:{\r\n      type: String\r\n    }\r\n   }\r\n   */\n  data: function () {\n    return {\n      Cars: [],\n      car: {},\n      selectedCars: [],\n      brands: [],\n      selectedBrand: [],\n      allBrand: true\n    };\n  },\n\n  mounted() {\n    axios.get('http://localhost:5000/api/posts/').then(response => {\n      //console.log(response.data);\n      this.Cars = response.data;\n      this.getBrands();\n      this.selectedBrand = [];\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n\n  methods: {\n    //is selected car allready in array of selectedCars\n    isInArray(id) {\n      let bool = false;\n\n      for (let i = 0; i < this.selectedCars.length; i++) {\n        if (this.selectedCars[i]._id === id) {\n          bool = true;\n        }\n      }\n\n      return bool;\n    },\n\n    getBrands() {\n      for (let i = 0; i < this.Cars.length; i++) {\n        if (!this.brands.includes(this.Cars[i].znacka)) this.brands.push(this.Cars[i].znacka);\n      }\n    },\n\n    addSelectedBrand(brand) {\n      if (!this.selectedBrand.includes(brand)) {\n        this.selectedBrand.push(brand);\n        this.allBrand = false;\n        console.log('Size of array' + this.selectedBrand.length);\n        console.log('Add brand: ' + this.selectedBrand[0]);\n      } else {\n        let index = this.selectedBrand.indexOf(brand);\n        this.selectedBrand.splice(index, 1);\n\n        if (this.selectedBrand.length === 0) {\n          this.allBrand = true;\n        }\n      }\n\n      this.filtering();\n    },\n\n    filtering() {\n      if (!this.allBrand) {\n        for (let i = 0; i < this.selectedCars.length; i++) {\n          if (!this.selectedBrand.includes(this.selectedCars[i].znacka)) {\n            this.selectedCars.splice(i, 1);\n          }\n        }\n\n        for (let i = 0; i < this.Cars.length; i++) {\n          if (this.selectedBrand.includes(this.Cars[i].znacka) && !this.isInArray(this.Cars[i]._id)) {\n            this.selectedCars.push(this.Cars[i]);\n          }\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA2DA;AAEA;EACAA,oBADA;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;EAEAC;IACA;MACAC,QADA;MAEAC,OAFA;MAGAC,gBAHA;MAKAC,UALA;MAMAC,iBANA;MAOAC;IAPA;EASA,CApBA;;EAsBAC;IACAC,8CACAC,IADA,CACAC;MACA;MACA;MACA;MACA;IAEA,CAPA,EAQAC,KARA,CAQAC;MACAC;IACA,CAVA;EAWA,CAlCA;;EAoCAC;IACA;IACAC;MACA;;MACA;QACA;UACAC;QACA;MACA;;MACA;IACA,CAVA;;IAYAC;MACA;QACA,gDACA;MACA;IACA,CAjBA;;IAkBAC;MACA;QACA;QACA;QACAL;QACAA;MACA,CALA,MAKA;QACA;QACA;;QACA;UACA;QACA;MAEA;;MACA;IACA,CAjCA;;IAmCAM;MACA;QAEA;UACA;YACA;UACA;QACA;;QAEA;UACA;YACA;UACA;QACA;MACA;IAGA;;EApDA;AApCA","names":["name","data","Cars","car","selectedCars","brands","selectedBrand","allBrand","mounted","axios","then","response","catch","error","console","methods","isInArray","bool","getBrands","addSelectedBrand","filtering"],"sourceRoot":"src/views","sources":["carsSelection.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <header-page/>\r\n    <section class=\"filtering-tag\">\r\n\r\n\r\n      <div v-for=\"brand in brands\" :key=\"brand._id\">\r\n        <input name=\"active\" type=\"checkbox\" :id=\"brand\" @change=\"addSelectedBrand(brand)\">\r\n        <h3>{{ brand }}</h3>\r\n      </div>\r\n      <p>vybrane znacky: {{selectedBrand}}</p>\r\n\r\n\r\n\r\n    </section>\r\n\r\n\r\n    <section class=\"optionalCar\" v-if=\"this.allBrand\">\r\n      <section class=\"border-text-choose-car\" v-for=\"car of Cars\"\r\n           :key=\"car._id\"\r\n      >\r\n        <div class=\"carDescription\">\r\n        <img class=\"carImage\"/>\r\n        <h1 class=\"subtitle-car-browsing\">{{car.znacka}} {{car.model}}</h1>\r\n        <h3 class=\"subtitle-car-browsing\">{{car.karoserie}}</h3>\r\n        <h3 class=\"subtitle-car-browsing\">{{car.motor}} {{car.vykon}} kW</h3>\r\n        <p>{{car.rok}}</p>\r\n        <br>\r\n        <br>\r\n        <h2 class =\"price-car-browsing\">{{car.cena}} Kč</h2>\r\n        </div>\r\n\r\n      </section>\r\n    </section>\r\n\r\n    <section class=\"optionalCar\" v-else>\r\n      <section class=\"border-text-choose-car\" v-for=\"car of selectedCars\"\r\n               :key=\"car._id\"\r\n      >\r\n        <img class=\"carImage\"/>\r\n        <h1 class=\"subtitle-car-browsing\">{{car.znacka}} {{car.model}}</h1>\r\n        <h3 class=\"subtitle-car-browsing\">{{car.karoserie}}</h3>\r\n        <h3 class=\"subtitle-car-browsing\">{{car.motor}} {{car.vykon}} kW</h3>\r\n        <p>{{car.rok}}</p>\r\n        <br>\r\n        <br>\r\n        <h2 class =\"price-car-browsing\">{{car.cena}} Kč</h2>\r\n\r\n      </section>\r\n    </section>\r\n\r\n  <footer-page/>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: 'carSelection',\r\n  /*\r\n  props:{\r\n    brand:{\r\n      type: String\r\n    }\r\n   }\r\n   */\r\n\r\n  data: function () {\r\n    return {\r\n      Cars: [],\r\n      car: {},\r\n      selectedCars: [],\r\n\r\n      brands: [],\r\n      selectedBrand:[],\r\n      allBrand: true\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    axios.get('http://localhost:5000/api/posts/')\r\n        .then((response) =>{\r\n          //console.log(response.data);\r\n          this.Cars = response.data\r\n          this.getBrands();\r\n          this.selectedBrand =[];\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n  },\r\n\r\n  methods: {\r\n    //is selected car allready in array of selectedCars\r\n    isInArray(id){\r\n      let bool = false;\r\n      for(let i=0; i< this.selectedCars.length; i++){\r\n        if(this.selectedCars[i]._id === id){\r\n          bool = true;\r\n        }\r\n      }\r\n      return bool;\r\n    },\r\n\r\n      getBrands(){\r\n        for(let i =0; i<this.Cars.length; i++){\r\n          if( !(this.brands.includes(this.Cars[i].znacka)))\r\n              this.brands.push(this.Cars[i].znacka);\r\n        }\r\n      },\r\n    addSelectedBrand(brand){\r\n        if(!this.selectedBrand.includes(brand)) {\r\n          this.selectedBrand.push(brand);\r\n          this.allBrand =false;\r\n          console.log('Size of array'+this.selectedBrand.length)\r\n          console.log('Add brand: '+this.selectedBrand[0]);\r\n        }else{\r\n          let index = this.selectedBrand.indexOf(brand);\r\n          this.selectedBrand.splice(index, 1);\r\n          if(this.selectedBrand.length === 0){\r\n            this.allBrand =true;\r\n          }\r\n\r\n        }\r\n        this.filtering();\r\n    },\r\n\r\n    filtering(){\r\n        if(!this.allBrand){\r\n\r\n          for(let i =0; i<this.selectedCars.length; i++) {\r\n            if ( !(this.selectedBrand.includes(this.selectedCars[i].znacka))) {\r\n              this.selectedCars.splice(i, 1);\r\n            }\r\n          }\r\n\r\n          for(let i =0; i<this.Cars.length; i++) {\r\n              if (this.selectedBrand.includes(this.Cars[i].znacka) && (!this.isInArray(this.Cars[i]._id)) ) {\r\n                this.selectedCars.push(this.Cars[i]);\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.border-text-choose-car{\r\n  text-align: left;\r\n  width: 100%;\r\n\r\n  background: #ffee80;\r\n  font-size: 20px;\r\n  border-radius: 1em;\r\n\r\n\r\n  margin-bottom: 5rem;\r\n}\r\n.carDescription{\r\n  position: relative;\r\n  padding-right: 20rem;\r\n}\r\n\r\n\r\n\r\n.border-title-choose-car{\r\n  font-size: 25px;\r\n  color: black;\r\n  font-weight: revert;\r\n  margin-right: 50em;\r\n\r\n}\r\n\r\n.filtering-tag {\r\n  align-items: center;\r\n  width: 100%;\r\n\r\n\r\n  margin-bottom: 6em;\r\n  margin-top: 12em;\r\n  z-index: 1000;\r\n  background: floralwhite;\r\n  border-bottom: inset #130f40;\r\n\r\n}\r\n.carImage{\r\nborder: 2px;\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}